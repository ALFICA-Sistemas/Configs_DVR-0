############################################################
# System control configuration parameters
# Start in daemon (background) mode and release terminal.
  daemon on
# Start in Setup-Mode, daemon disabled.
  setup_mode off
# File to store the process ID.
;  pid_file value
# File to write logs messages into.  If not defined stderr and syslog is used.
; log_file value
  logfile /Discos/AlficaTV/DVR0/motion/Log_%Y%m%d.txt
# Level of log messages [1..9] (EMG, ALR, CRT, ERR, WRN, NTC, INF, DBG, ALL).
  log_level 6
# Filter to log messages by type (COR, STR, ENC, NET, DBL, EVT, TRK, VID, ALL).
  log_type ALL
# Do not sound beeps when detecting motion
  quiet on
# Native language support.
  native_language on
############################################################

############################################################
# Parametros de video y grabacion comunes a todos los canales
# Target directory for pictures, snapshots and movies
#   (sustituido en cada canal si se especifica en cada cfg)
  target_dir /Discos/AlficaTV/DVR0/capturas/
# Number of frames to capture in each roundrobin step
  roundrobin_frames 1
# Number of frames to skip before each roundrobin step
  roundrobin_skip 1
# Try to filter out noise generated by roundrobin
  roundrobin_switchfilter off
############################################################

############################################################
# Image Processing configuration parameters
############################################################
# DEFAULT Image width in pixels, overridden by each camera conf
;  width 640
# DEFAULT Image height in pixels, overridden by each camera conf
;  height 480
# DEFAULT Maximum number of fps to be captured, overridden by each camera conf
  framerate 5
# Minimum time in seconds between capturing picture frames from the camera.
  minimum_frame_time 0
# Text to be overlayed in the lower right corner of images, overridden by each camera conf
;	text_right \n%T-%
# Text to be overlayed in the lower right corner of images.
;  text_right %Y-%m-%d\n%T-%q
############################################################

############################################################
# Motion detection configuration parameters
############################################################
# Always save pictures and movies even if there was no motion.
  emulate_motion off
# Draw a locate box around the moving object.
  locate_motion_mode off
# Set the look and style of the locate box. Valid values: box, redbox, cross, redcross
  locate_motion_style redbox
# Overlay number of changed pixels in upper right corner of images.
  text_changes off
# Scale factor for text overlayed on images.
  text_scale 1
# The special event conversion specifier %C
  text_event %Y%m%d_%H%M%S
# Threshold for number of changed pixels that triggers motion.
  threshold 750
# The maximum threshold for number of changed pixels that triggers motion.
  threshold_maximum 0
# Enable tuning of the threshold down if possible.
  threshold_tune on
# Noise threshold for the motion detection.
  noise_level 32
# Automatically tune the noise threshold
  noise_tune on
# Despeckle the image using (E/e)rode or (D/d)ilate or (l)abel.
  despeckle_filter EedDl
# Area number used to trigger the on_area_detected script.
; area_detect value
# Full path and file name for motion detection mask PGM file.
; mask_file value
# Full path and file name for privacy mask PGM file.
; mask_privacy value
# The value defining how slow or fast the smart motion mask created and used.
  smart_mask_speed 0
# Percentage of image that triggers a lightswitch detected.
  lightswitch_percent 0
# When lightswitch is detected, ignore this many frames
  lightswitch_frames 5
# Number of images that must contain motion to trigger an event.
  minimum_motion_frames 3
# Gap in seconds of no motion detected that triggers the end of an event.
  event_gap 15
# The number of pre-captured (buffered) pictures from before motion.
  pre_capture 5
# Number of frames to capture after motion is no longer detected.
  post_capture 0
############################################################

############################################################
# Script execution configuration parameters
############################################################
# Command to be executed when an event starts.
; on_event_start /path/to/script.sh
# Command to be executed when an event ends.
; on_event_end /path/to/script.sh
# Command to be executed when a picture is saved.
; on_picture_save /path/to/script.sh
# Command to be executed when motion in a predefined area is detected
; on_area_detected /path/to/script.sh
# Command to be executed when motion is detected
; on_motion_detected /path/to/script.sh
# Command to be executed when a movie file is created.
; on_movie_start /path/to/script.sh
# Command to be executed when a movie file is closed.
; on_movie_end /path/to/script.sh
# Command to be executed when a camera can't be opened or if it is lost
; on_camera_lost /path/to/script.sh
# Command to be executed when a camera that was lost has been found.
; on_camera_found /path/to/script.sh
############################################################

############################################################
# Picture output configuration parameters
############################################################
# Grabacion de imagen cuando se detecta movimiento [ on | off | first | best ]
  picture_output off
# Grabacion de imagen SOLO de lo que se mueve [ on | off ] 
  picture_output_motion off
# Tipo de archivo de imagen [ jpeg | webp |  ppm ]
  picture_type jpeg
# Informacion EXIF extra en el archivo (Max 4095 carac)
; picture_exif texto  
# File name (without extension) for pictures relative to target directory
; picture_filename %Y-%m-%d_%H%M%S
# The quality (in percent) to be used in the picture compression
  picture_quality 90
# Intervalo de grabacion de imagenes con o sin movimiento ( 0~2147483647 0=desactivado )
  snapshot_interval 0
# File name (without extension) for snapshots relative to target directory
  snapshot_filename %Y-%m-%d_%H%M%S_foto
############################################################

############################################################
# Movie output configuration parameters
############################################################
# Grabacion de video cuando se detecta movimiento [ on | off ]
  movie_output off
# Grabacion de videon SOLO de lo que se mueve [ on | off ]
  movie_output_motion off
# Maximum length of movie in seconds ( 0=ilimitado )
  movie_max_time 60
# The fixed bitrate to be used by the movie encoder [ 0 - 9999999 ] (Ignore quality setting)
; movie_bps 400000
# The encoding quality of the movie. (0=use bitrate. 1=worst ~ 100=best)
  movie_quality 80
# Container/Codec to used for the movie. See motion_guide.html
  movie_codec mkv
# Repetir imagen si el CPU no alcanza (pero el video parece paralizarse)
  movie_duplicate_frames off
# Crear el video directamente del stream de la camara, sin reproceso
  movie_passthrough on
# File name(without extension) for movies relative to target directory
  movie_filename %Y-%m-%d_%H%M%S
# Use pipe and external encoder for creating movies.
  movie_extpipe_use off
# Full path and options for external encoder of movies from raw images
# ( https://motion-project.github.io/motion_config.html#movie_extpipe )
; movie_extpipe value
# Intervalo de video con o sin movimiento ( 0~2147483647 0=desactivado )
  timelapse_interval 0
# Ciclo del video (hourly, daily, weekly-sunday, weekly-monday, monthly, manual)
  timelapse_mode daily
# Velocidad de reproduccion fps ( 0 ~ 100 )
  timelapse_fps 30
# Container/Codec to be used by timelapse video [ mpg | mpeg4 ].
  timelapse_codec mpg
# File name(without extension) for movies relative to target directory
  timelapse_filename %Y-%m-%d_%H%M%S_continuo
############################################################

############################################################
# Loopback pipe configuration parameters
############################################################
# v4l2 loopback device to receive normal images
; video_pipe value
# v4l2 loopback device to receive motion images
; video_pipe_motion value
############################################################

############################################################
# Webcontrol configuration parameters
############################################################
# Port number used for the webcontrol.
  webcontrol_port 42308
# Enable IPv6 addresses.
  webcontrol_ipv6 off
# Restrict webcontrol connections to the localhost.
  webcontrol_localhost off
# Type of configuration options to allow via the webcontrol.
#   0: None - No configuration parameters will be available.
#   1: Limited- A limited list of parameters will be available.
#   2: Advanced - The advanced list of parameters will be available. These typically require Motion to be restarted to become effective.
#   3: Restricted - User IDs, passwords
 webcontrol_parms 2
# Method that webcontrol should use for interface with user.
#   0 provides a traditional web page interface using html/css.
#   1 provides a text only interface suitable for programmatic access.
#   2 provides the legacy web control interface
  webcontrol_interface 0
# The authentication method for the webcontrol
#   0 = disabled
#   1 = Basic authentication
#   2 = Digest authentication
  webcontrol_auth_method 1
# Authentication string for the webcontrol. Syntax username:password
  stream_authentication Admin:alf230ica
; webcontrol_authentication value
# Use ssl / tls for the webcontrol
  webcontrol_tls on
# Full path and file name of the certificate file for tls
; webcontrol_cert value
# Full path and file name of the key file for tls
; webcontrol_key value
# The cross-origin resource sharing (CORS) header for webcontrol
; webcontrol_cors_header value
# Bloqueo de IP despu√©s de varios intentos fallidos de login
  webcontrol_lock_attempts 3
  webcontrol_lock_minutes 5
  webcontrol_lock_max_ips 25
############################################################

############################################################
# Live stream configuration parameters
############################################################
# The port number for the live stream.
  stream_port 42309
# Restrict stream connections to the localhost.
  stream_localhost off
# Authentication method for live stream [ 0=nada | 1=usr,pwd | 2=MD5 ]
  stream_auth_method 0
# The authentication string for the stream. Syntax username:password
;  stream_authentication user:pass
# Use ssl / tls for stream.
  stream_tls on
# The cross-origin resource sharing (CORS) header for the stream
; stream_cors_header value
# Percentage to scale the stream image on the webcontrol.
  stream_preview_scale 25
# Have the stream image start on a new line of the webcontrol
  stream_preview_newline off
# Method for showing stream on webcontrol.
#   0 = Full stream images are sent and scaled by the client to the webcontrol page
#   1 = Substream images are sent by Motion. This saves bandwidth
#   2 = Static images are sent by Motion and the page must be manually refreshed
#   3 = Full stream images and motion images side by side to assist setup of detection
#   4 = The source image provided by camera without privacy or other Motion overlays
  stream_preview_method 0
# Quality of the jpeg images produced for stream.
  stream_quality 50
# Provide the stream images in black and white
  stream_grey off
# Output frames at 1 fps when no motion is detected.
  stream_motion on
# Maximum framerate of images provided for stream
  stream_maxrate 5
##############################################################

##############################################################
# Camera config files - One for each camera.
##############################################################
; camera /Discos/sda2/motion/OfeliaTV1.conf
; camera /Discos/sda2/motion/OfeliaTV2.conf
; camera /Discos/sda2/motion/OfeliaTV3.conf
# Directory to read '.conf' files for cameras.
  camera_dir /etc/motion/cams.d
##############################################################

